"use strict";(self.webpackChunkapp_demo_muni_lujan=self.webpackChunkapp_demo_muni_lujan||[]).push([[701],{8701:(J,f,s)=>{s.r(f),s.d(f,{TimelineDemoModule:()=>U});var v=s(6895),h=s(6773),d=s(805),e=s(8256),T=s(5922),x=s(8568),b=s(2453),y=s(9364);let C=(()=>{class t{constructor(i,n,a){this.messageService=i,this.firebase=n,this.layoutService=a,this.loading=!1,this.muestraDatosFiltrados=[],this.subscription=this.layoutService.configUpdate$.subscribe(o=>{this.initCharts()})}ngOnInit(){this.loading=!0,this.firebase.leerUltimoDocumento("PuestosTrabajoAsalariado").then(i=>{const n=new Date(0);n.setUTCSeconds(i.fechaSubida.seconds),this.fechaSubida=n.toLocaleDateString("es-ES"),this.muestraDatosFiltrados=i.muestraDatosFiltrados,this.loading=!1,this.initCharts()}).catch(i=>{console.error(i),this.loading=!1})}initCharts(){const i=this.contarMensual("2020"),n=this.contarMensual("2021"),a=this.contarMensual("2022"),o=this.calcularInteranual(i,n),p=this.calcularInteranual(n,a),r=getComputedStyle(document.documentElement),c=r.getPropertyValue("--text-color"),m=r.getPropertyValue("--text-color-secondary"),u=r.getPropertyValue("--surface-border");this.dataGraficoInteranual={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"2022",backgroundColor:r.getPropertyValue("--primary-700"),borderColor:r.getPropertyValue("--primary-700"),data:p},{label:"2021",backgroundColor:r.getPropertyValue("--primary-300"),borderColor:r.getPropertyValue("--primary-300"),data:o}]},this.barOptions={plugins:{legend:{labels:{fontColor:c}}},scales:{x:{ticks:{color:m,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:m},grid:{color:u,drawBorder:!1}}}},this.dataGraficoMensual={labels:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],datasets:[{label:"2022",data:a,fill:!1,backgroundColor:r.getPropertyValue("--primary-800"),borderColor:r.getPropertyValue("--primary-800"),tension:.4},{label:"2021",data:n,fill:!1,backgroundColor:r.getPropertyValue("--primary-500"),borderColor:r.getPropertyValue("--primary-500"),tension:.4},{label:"2020",data:i,fill:!1,backgroundColor:r.getPropertyValue("--primary-200"),borderColor:r.getPropertyValue("--primary-200"),tension:.4}]},this.lineOptions={plugins:{legend:{labels:{fontColor:c}}},scales:{x:{ticks:{color:m},grid:{color:u,drawBorder:!1}},y:{ticks:{color:m},grid:{color:u,drawBorder:!1}}}},this.dataGraficoMensualContiguo={labels:["Enero `20","Febrero `20","Marzo `20","Abril `20","Mayo `20","Junio `20","Julio `20","Agosto `20","Septiembre `20","Octubre `20","Noviembre `20","Diciembre `20","Enero `21","Febrero `21","Marzo `21","Abril `21","Mayo `21","Junio `21","Julio `21","Agosto `21","Septiembre `21","Octubre `21","Noviembre `21","Diciembre `21","Enero `22","Febrero `22","Marzo `22","Abril `22","Mayo `22","Junio `22","Julio `22","Agosto `22","Septiembre `22","Octubre `22","Noviembre `22","Diciembre `22"],datasets:[{label:"20-21-22",data:[...i,...n,...a],fill:!1,backgroundColor:r.getPropertyValue("--primary-800"),borderColor:r.getPropertyValue("--primary-800"),tension:.4}]},this.lineContiguoOptions={plugins:{legend:{labels:{fontColor:c}}},scales:{x:{ticks:{color:m},grid:{color:u,drawBorder:!1}},y:{ticks:{color:m},grid:{color:u,drawBorder:!1}}}},this.dataGraficoInteranualContiguo={labels:["Enero `21","Febrero `21","Marzo `21","Abril `21","Mayo `21","Junio `21","Julio `21","Agosto `21","Septiembre `21","Octubre `21","Noviembre `21","Diciembre `21","Enero `22","Febrero `22","Marzo `22","Abril `22","Mayo `22","Junio `22","Julio `22","Agosto `22","Septiembre `22","Octubre `22","Noviembre `22","Diciembre `22"],datasets:[{label:"21-22",backgroundColor:r.getPropertyValue("--primary-300"),borderColor:r.getPropertyValue("--primary-300"),data:[...o,...p]}]},this.barContiguoOptions={plugins:{legend:{labels:{fontColor:c}}},scales:{x:{ticks:{color:m,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:m},grid:{color:u,drawBorder:!1}}}}}contarMensual(i){const n=this.muestraDatosFiltrados.filter(o=>o.fecha.split("-").includes(i)).map(o=>({fecha:o.fecha,puestos:o.puestos}));let a=[];for(let o=1;o<=12;o++){const p=n.reduce((r,c)=>c.fecha>i+"-"+o.toString().padStart(2,"0")&&c.fecha<i+"-"+(o+1).toString().padStart(2,"0")?r+c.puestos:r,0);a.push(p)}return a}calcularInteranual(i,n){let a=[];for(let o=1;o<=12;o++)a.push(n[o]/i[o]-1);return a}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(d.ez),e.Y36(T.P),e.Y36(x.P))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],features:[e._Bn([d.ez])],decls:58,vars:10,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-0","mx-0","mt-0","mb-4","list-none"],[1,"flex","align-items-center","py-2","border-bottom-1","surface-border"],[1,"mr-3"],[1,"pi","pi-file-import","text-xl","text-blue-500"],[1,"text-900","line-height-3"],[1,"flex","align-items-center","py-2"],[1,"pi","pi-server","text-xl","text-orange-500"],[1,"text-700","line-height-3","overflow-wrap-break-word"],[1,"col-12","lg:col-6"],[1,"block","text-600","font-medium","mb-3"],["type","line",3,"data","options"],["type","bar",3,"data","options"],[1,"col-12","lg"]],template:function(i,n){1&i&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5"),e._uU(5,"Puestos de trabajo asalariados registrados"),e.qZA(),e.TgZ(6,"ul",3)(7,"li",4)(8,"div",5),e._UZ(9,"i",6),e.qZA(),e.TgZ(10,"span",7),e._uU(11,'Datos obtenidos del dataset "Datos Abiertos de Desarrollo Productivo".'),e.qZA()(),e.TgZ(12,"li",8)(13,"div",5),e._UZ(14,"i",9),e.qZA(),e.TgZ(15,"span",10),e._uU(16,"Url: https://datos.produccion.gob.ar/dataset/puestos-de-trabajo-por-departamento-partido-y-sector-de-actividad/archivo/169245ff-f050-4601-9cea-aa36ef2d7f20"),e.qZA()()()()(),e.TgZ(17,"div",11)(18,"div",2)(19,"h5"),e._uU(20,"Total mensual"),e.qZA(),e.TgZ(21,"span",12),e._uU(22,"A\xf1os 2020, 2021 y 2022 separados"),e.qZA(),e._UZ(23,"p-chart",13),e.qZA()(),e.TgZ(24,"div",11)(25,"div",2)(26,"h5"),e._uU(27,"Variaci\xf3n interanual"),e.qZA(),e.TgZ(28,"span",12),e._uU(29,"Comparaci\xf3n a\xf1os 2021 y 2022"),e.qZA(),e._UZ(30,"p-chart",14),e.qZA()(),e.TgZ(31,"div",15)(32,"div",2)(33,"h5"),e._uU(34,"Total mensual - "),e.TgZ(35,"b"),e._uU(36,"Puestos de empleo en Luj\xe1n"),e.qZA()(),e.TgZ(37,"span",12),e._uU(38,"Per\xedodo 2020 - 2021 - 2022"),e.qZA(),e._UZ(39,"p-chart",13),e.qZA()(),e.TgZ(40,"div",11)(41,"div",2)(42,"h5"),e._uU(43,"Total mensual - "),e.TgZ(44,"b"),e._uU(45,"Puestos de empleo en Luj\xe1n"),e.qZA()(),e.TgZ(46,"span",12),e._uU(47,"Per\xedodo 2020 - 2021 - 2022"),e.qZA(),e._UZ(48,"p-chart",13),e.qZA()(),e.TgZ(49,"div",11)(50,"div",2)(51,"h5"),e._uU(52,"Variaci\xf3n interanual - "),e.TgZ(53,"b"),e._uU(54,"Puestos de empleo en Luj\xe1n"),e.qZA()(),e.TgZ(55,"span",12),e._uU(56,"Per\xedodo 2021 - 2022"),e.qZA(),e._UZ(57,"p-chart",14),e.qZA()()()),2&i&&(e.xp6(23),e.Q6J("data",n.dataGraficoMensual)("options",n.lineOptions),e.xp6(7),e.Q6J("data",n.dataGraficoInteranual)("options",n.barOptions),e.xp6(9),e.Q6J("data",n.dataGraficoMensualContiguo)("options",n.lineContiguoOptions),e.xp6(9),e.Q6J("data",n.dataGraficoMensualContiguo)("options",n.lineContiguoOptions),e.xp6(9),e.Q6J("data",n.dataGraficoInteranualContiguo)("options",n.barContiguoOptions))},dependencies:[b.FN,y.C]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.Bz.forChild([{path:"",component:C}]),h.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,d.m8]}),t})();var P=s(5593),E=s(4247);let U=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,O,P.hJ,E.d,_,b.EV,y.S]}),t})()}}]);