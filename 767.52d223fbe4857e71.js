"use strict";(self.webpackChunkapp_demo_muni_lujan=self.webpackChunkapp_demo_muni_lujan||[]).push([[767],{3767:(fe,m,r)=>{r.r(m),r.d(m,{DashboardModule:()=>_e});var u=r(6895),d=r(433),_=r(9364),T=r(1327),k=r(7318),I=r(5593),A=r(5132),n=r(8256),p=r(6773),g=r(3608);let re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[u.ez,p.Bz,g.z,p.Bz,g.z]}),t})();var y=r(8568),se=r(529);let pe=(()=>{class t{constructor(e){this.http=e,this.dolarApiUrl="https://www.dolarsi.com/api/api.php?type=dolar"}getValoresDolar(){return this.http.get(this.dolarApiUrl)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(se.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=r(5922),b=r(666);const S=function(){return{width:"150px"}};let ce=(()=>{class t{constructor(e,i){this.firebase=e,this.layoutService=i,this.coleccion="PuestosTrabajoAsalariado",this.sectorGeografico="Luj\xe1n",this.sectorProductivo="",this.data={},this.conteoMensualA=[],this.conteoMensualB=[],this.conteoMensualC=[],this.labelsInteranual=[],this.labelsConteo=[],this.interanualA=[],this.interanualB=[],this.opcionesRegion=[{label:"Luj\xe1n",value:"TotalLujan"},{label:"Buenos Aires",value:"TotalBsAs"},{label:"Argentina",value:"TotalPais"}],this.opcionesSector=[{label:"Agroindustria",value:""},{label:"Metalmec\xe1nica",value:""},{label:"Textil",value:""}],this.valorSeleccionadoRegion="TotalLujan",this.valorSeleccionadoSector="todo",this.loading=!0,this.subscription=this.layoutService.configUpdate$.subscribe(()=>{this.initCharts()}),this.firebase.obtenerDocumento(this.coleccion).then(o=>{if(o){const l=new Date(0);l.setUTCSeconds(o.fechaSubida.seconds),this.fechaSubida=l.toLocaleDateString("es-ES"),this.data=o.data||{},this.applyFilterRegion()}this.loading=!1,this.initCharts()}).catch(o=>{console.error(o),this.loading=!1})}applyFilterRegion(){this.labelsConteo=this.data.labelsConteo,this.labelsInteranual=this.data.labelsInteranual,this.conteoMensualA=this.data[`conteoMensual${this.valorSeleccionadoRegion}A`],this.conteoMensualB=this.data[`conteoMensual${this.valorSeleccionadoRegion}B`],this.conteoMensualC=this.data[`conteoMensual${this.valorSeleccionadoRegion}C`],this.interanualA=this.data[`interanual${this.valorSeleccionadoRegion}A`],this.interanualB=this.data[`interanual${this.valorSeleccionadoRegion}B`],this.initCharts()}applyFilterSectorProductivo(){}initCharts(){const e=getComputedStyle(document.documentElement),i=e.getPropertyValue("--text-color"),o=e.getPropertyValue("--text-color-secondary"),l=e.getPropertyValue("--surface-border");this.dataGraficoMensualContiguo={labels:this.labelsConteo,datasets:[{label:"\xdaltimos 36 meses",data:[...this.conteoMensualC,...this.conteoMensualB,...this.conteoMensualA],fill:!1,backgroundColor:e.getPropertyValue("--primary-800"),borderColor:e.getPropertyValue("--primary-800"),tension:.4}]},this.lineContiguoOptions={plugins:{legend:{labels:{fontColor:i}}},scales:{x:{ticks:{color:o},grid:{color:l,drawBorder:!1}},y:{ticks:{color:o},grid:{color:l,drawBorder:!1}}}},this.dataGraficoInteranualContiguo={labels:this.labelsInteranual,datasets:[{label:"\xdaltimos 24 meses",backgroundColor:e.getPropertyValue("--primary-300"),borderColor:e.getPropertyValue("--primary-300"),data:[...this.interanualB,...this.interanualA]}]},this.barContiguoOptions={plugins:{legend:{labels:{fontColor:i}}},scales:{x:{ticks:{color:o,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:o},grid:{color:l,drawBorder:!1}}}}}contarMensual(e){let i=[],o=new Date(Date.parse(e[0].fecha)).getMonth();for(let l=0;l<12;l++){const s=(o+l)%12,ge=e.reduce((M,P)=>new Date(Date.parse(P.fecha)).getMonth()===s?M+P.puestos:M,0);i.push(ge)}return i}calcularInteranual(e,i){let o=[];for(let l=1;l<=12;l++)o.push(i[l]/e[l]-1);return o}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(C.P),n.Y36(y.P))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-grafico-por-rubro-y-sector"]],decls:17,vars:14,consts:[[1,"grid"],[1,"col-12","lg:col-6"],[1,"card"],[3,"options","ngModel","ngModelChange","onChange"],["type","line",3,"data","options"],["type","bar",3,"data","options"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),n._uU(4,"Total mensual - "),n.TgZ(5,"b"),n._uU(6,"Puestos de empleo"),n.qZA()(),n.TgZ(7,"p-dropdown",3),n.NdJ("ngModelChange",function(l){return i.valorSeleccionadoRegion=l})("onChange",function(){return i.applyFilterRegion()}),n.qZA(),n.TgZ(8,"p-dropdown",3),n.NdJ("ngModelChange",function(l){return i.valorSeleccionadoSector=l})("onChange",function(){return i.applyFilterSectorProductivo()}),n.qZA(),n._UZ(9,"p-chart",4),n.qZA()(),n.TgZ(10,"div",1)(11,"div",2)(12,"h5"),n._uU(13,"Variaci\xf3n interanual - "),n.TgZ(14,"b"),n._uU(15,"Puestos de empleo en Luj\xe1n"),n.qZA()(),n._UZ(16,"p-chart",5),n.qZA()()()),2&e&&(n.xp6(7),n.Akn(n.DdM(12,S)),n.Q6J("options",i.opcionesRegion)("ngModel",i.valorSeleccionadoRegion),n.xp6(1),n.Akn(n.DdM(13,S)),n.Q6J("options",i.opcionesSector)("ngModel",i.valorSeleccionadoSector),n.xp6(1),n.Q6J("data",i.dataGraficoMensualContiguo)("options",i.lineContiguoOptions),n.xp6(7),n.Q6J("data",i.dataGraficoInteranualContiguo)("options",i.barContiguoOptions))},dependencies:[b.Lt,d.JJ,d.On,_.C]}),t})();const c=function(){return{width:"2.5rem",height:"2.5rem"}};let ue=(()=>{class t{constructor(e,i,o){this.layoutService=e,this.dolarsi=i,this.firebase=o}ngOnInit(){this.loading=!0,this.dolarsi.getValoresDolar().subscribe(e=>{e.map(i=>{"Oficial"==i.casa.nombre&&(this.dolarOficial=i.casa),"Blue"==i.casa.nombre&&(this.dolarBlue=i.casa)}),this.loading=!1},e=>this.loading=!1)}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(y.P),n.Y36(pe),n.Y36(C.P))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ng-component"]],decls:70,vars:10,consts:[[1,"grid"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0"],[1,"flex","justify-content-between"],[1,"block","text-500","font-medium"],[1,"flex","align-items-center","justify-content-center","bg-green-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-green-500","text-xl"],[1,"col-6","pb-0"],[1,"text-900","font-medium","text-xl"],[1,"text-green-500","font-medium"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","pi-chart-line","text-purple-500","text-xl"],[1,"text-purple-500","font-medium"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",3,"ngStyle"],[1,"pi","pi-wallet","text-orange-500","text-xl"],[1,"text-orange-500","font-medium"],[1,"col-12"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),n._uU(5,"D\xf3lar oficial"),n.qZA(),n.TgZ(6,"div",5),n._UZ(7,"i",6),n.qZA()(),n.TgZ(8,"div",0)(9,"div",7)(10,"div",8),n._uU(11),n.qZA(),n.TgZ(12,"span",9),n._uU(13,"Compra"),n.qZA()(),n.TgZ(14,"div",7)(15,"div",8),n._uU(16),n.qZA(),n.TgZ(17,"span",9),n._uU(18,"Venta"),n.qZA()()()()(),n.TgZ(19,"div",1)(20,"div",2)(21,"div",3)(22,"span",4),n._uU(23,"EMAE (febrero 2023)"),n.qZA(),n.TgZ(24,"div",10),n._UZ(25,"i",11),n.qZA()(),n.TgZ(26,"div",0)(27,"div",7)(28,"div",8),n._uU(29,"0,2%"),n.qZA(),n.TgZ(30,"span",12),n._uU(31,"Var. interanual"),n.qZA()(),n.TgZ(32,"div",7)(33,"div",8),n._uU(34,"0,0%"),n.qZA(),n.TgZ(35,"span",12),n._uU(36,"Var. mensual"),n.qZA()()()()(),n.TgZ(37,"div",1)(38,"div",2)(39,"div",3)(40,"span",4),n._uU(41,"IPC"),n.qZA(),n.TgZ(42,"div",13),n._UZ(43,"i",14),n.qZA()(),n.TgZ(44,"div",0)(45,"div",7)(46,"div",8),n._uU(47,"104,3%"),n.qZA(),n.TgZ(48,"span",15),n._uU(49,"Var. interanual"),n.qZA()(),n.TgZ(50,"div",7)(51,"div",8),n._uU(52,"7,7%"),n.qZA(),n.TgZ(53,"span",15),n._uU(54,"Var. trimestral"),n.qZA()()()()(),n.TgZ(55,"div",1)(56,"div",2)(57,"div",3)(58,"span",4),n._uU(59,"IPC"),n.qZA(),n.TgZ(60,"div",13),n._UZ(61,"i",14),n.qZA()(),n.TgZ(62,"div",0)(63,"div",7)(64,"div",8),n._uU(65," 21,7%"),n.qZA(),n.TgZ(66,"span",15),n._uU(67,"Acumulado"),n.qZA()()()()(),n.TgZ(68,"div",16),n._UZ(69,"app-grafico-por-rubro-y-sector"),n.qZA()()),2&e&&(n.xp6(6),n.Q6J("ngStyle",n.DdM(6,c)),n.xp6(5),n.hij("$",i.dolarOficial?i.dolarOficial.compra:"---",""),n.xp6(5),n.hij("$",i.dolarOficial?i.dolarOficial.venta:"---",""),n.xp6(8),n.Q6J("ngStyle",n.DdM(7,c)),n.xp6(18),n.Q6J("ngStyle",n.DdM(8,c)),n.xp6(18),n.Q6J("ngStyle",n.DdM(9,c)))},dependencies:[u.PC,ce]}),t})(),de=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.Bz.forChild([{path:"",component:ue}]),p.Bz]}),t})();var me=r(805);let _e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[b.kW,u.ez,d.u5,_.S,T.$9,k.U$,A.l,re,I.hJ,de,me.m8]}),t})()}}]);