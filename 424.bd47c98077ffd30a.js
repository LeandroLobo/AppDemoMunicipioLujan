"use strict";(self.webpackChunkapp_demo_muni_lujan=self.webpackChunkapp_demo_muni_lujan||[]).push([[424],{424:(Se,f,r)=>{r.r(f),r.d(f,{DashboardModule:()=>ye});var p=r(6895),c=r(433),h=r(9364),I=r(1327),k=r(7318),A=r(5593),w=r(5132),e=r(8256),d=r(6773),m=r(3608);let se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,d.Bz,m.z,d.Bz,m.z]}),n})();var C=r(8568),pe=r(529);let ce=(()=>{class n{constructor(t){this.http=t,this.dolarApiUrl="https://www.dolarsi.com/api/api.php?type=dolar"}getValoresDolar(){return this.http.get(this.dolarApiUrl)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(pe.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var S=r(5922),_=r(666);const M=function(){return{width:"150px","margin-right":"1rem"}};function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.valorSeleccionadoSector=o)})("onChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.applyFilterSectorProductivo())}),e.qZA()}if(2&n){const t=e.oxw();e.Akn(e.DdM(4,M)),e.Q6J("options",t.opcionesSector)("ngModel",t.valorSeleccionadoSector)}}let ue=(()=>{class n{constructor(t,i){this.firebase=t,this.layoutService=i,this.coleccion="PuestosTrabajoAsalariado",this.sectorGeografico="Luj\xe1n",this.sectorProductivo="",this.data={},this.conteoMensualA=[],this.conteoMensualB=[],this.conteoMensualC=[],this.labelsInteranual=[],this.labelsConteo=[],this.interanualA=[],this.interanualB=[],this.opcionesRegion=[{label:"Luj\xe1n",value:"TotalLujan"},{label:"Buenos Aires",value:"TotalBsAs"},{label:"Argentina",value:"TotalPais"}],this.opcionesSector=[{label:"Todos",value:"Todos"},{label:"Agroalimentario",value:"Agroalimentario"},{label:"Contruccion",value:"Contruccion"},{label:"Metalmec\xe1nica",value:"Metalmec\xe1nica"},{label:"Turismo",value:"Turismo"},{label:"Textil Confecciones",value:"Textil Confecciones"}],this.valorSeleccionadoRegion="TotalLujan",this.valorSeleccionadoSector="Todos",this.loading=!0,this.subscription=this.layoutService.configUpdate$.subscribe(()=>{this.initCharts()}),this.firebase.obtenerDocumento(this.coleccion).then(o=>{if(o){const l=new Date(0);l.setUTCSeconds(o.fechaSubida.seconds),this.fechaSubida=l.toLocaleDateString("es-ES"),this.data=o.data||{},this.labelsConteo=this.data.labelsConteo,this.labelsInteranual=this.data.labelsInteranual,this.applyFilterRegion()}this.loading=!1,this.initCharts()}).catch(o=>{console.error(o),this.loading=!1})}get getValorSeleccionadoRegion(){return this.opcionesRegion.find(t=>t.value==this.valorSeleccionadoRegion).label}get getValorSeleccionadoSector(){return this.opcionesSector.find(t=>t.value==this.valorSeleccionadoSector).label}applyFilterRegion(){this.valorSeleccionadoSector="Todos",this.applyFilterSectorProductivo()}applyFilterSectorProductivo(){"Todos"==this.valorSeleccionadoSector?(this.conteoMensualA=this.data[`conteoMensual${this.valorSeleccionadoRegion}A`],this.conteoMensualB=this.data[`conteoMensual${this.valorSeleccionadoRegion}B`],this.conteoMensualC=this.data[`conteoMensual${this.valorSeleccionadoRegion}C`],this.interanualA=this.data[`interanual${this.valorSeleccionadoRegion}A`],this.interanualB=this.data[`interanual${this.valorSeleccionadoRegion}B`]):(this.conteoMensualA=this.contarMensual(this.data.dataTotalLujanA.filter(t=>t.sectorProductivo==this.valorSeleccionadoSector)),this.conteoMensualB=this.contarMensual(this.data.dataTotalLujanB.filter(t=>t.sectorProductivo==this.valorSeleccionadoSector)),this.conteoMensualC=this.contarMensual(this.data.dataTotalLujanC.filter(t=>t.sectorProductivo==this.valorSeleccionadoSector)),this.interanualA=this.calcularInteranual(this.conteoMensualB,this.conteoMensualA),this.interanualB=this.calcularInteranual(this.conteoMensualC,this.conteoMensualB)),this.initCharts()}initCharts(){const t=getComputedStyle(document.documentElement),i=t.getPropertyValue("--text-color"),o=t.getPropertyValue("--text-color-secondary"),l=t.getPropertyValue("--surface-border");this.dataGraficoMensualContiguo={labels:this.labelsConteo,datasets:[{label:"Puestos Registrados",data:[...this.conteoMensualC,...this.conteoMensualB,...this.conteoMensualA],fill:!1,backgroundColor:t.getPropertyValue("--primary-800"),borderColor:t.getPropertyValue("--primary-800"),tension:.4}]},this.lineContiguoOptions={plugins:{legend:{labels:{fontColor:i}}},scales:{x:{ticks:{color:o},grid:{color:l,drawBorder:!1}},y:{ticks:{color:o,title:{display:!0,text:"Puestos (miles)"},callback:function(s){return s/1e3}},grid:{color:l,drawBorder:!1}}}},this.dataGraficoInteranualContiguo={labels:this.labelsInteranual,datasets:[{label:"Variaci\xf3n",backgroundColor:t.getPropertyValue("--primary-300"),borderColor:t.getPropertyValue("--primary-300"),data:[...this.interanualB,...this.interanualA]}]},this.barContiguoOptions={plugins:{legend:{labels:{fontColor:i}}},scales:{x:{ticks:{color:o,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:o},grid:{color:l,drawBorder:!1}}}}}contarMensual(t){if(0==t.length)return[];let i=[],o=new Date(Date.parse(t[0].fecha)).getMonth();for(let l=0;l<12;l++){const s=(o+l)%12,Ce=t.reduce((T,P)=>new Date(Date.parse(P.fecha)).getMonth()===s?T+P.puestos:T,0);i.push(Ce)}return i}calcularInteranual(t,i){let o=[];for(let l=0;l<12;l++)o.push(i[l]/t[l]-1);return o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.P),e.Y36(C.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-grafico-puestos-empleo"]],decls:37,vars:12,consts:[[1,"grid"],[1,"col-12","lg:col-6"],[1,"card"],[3,"options","ngModel","ngModelChange","onChange"],[3,"options","ngModel","style","ngModelChange","onChange",4,"ngIf"],["type","line",3,"data","options"],[1,"p-0","mx-0","mt-0","mb-4","list-none"],[1,"flex","align-items-center","py-2","border-bottom-1","surface-border"],[1,"mr-3"],[1,"pi","pi-file-import","text-xl","text-blue-500"],[1,"text-900","line-height-3"],[1,"flex","align-items-center","py-2"],[1,"pi","pi-server","text-xl","text-orange-500"],["href","https://datos.produccion.gob.ar/dataset/puestos-de-trabajo-por-departamento-partido-y-sector-de-actividad/archivo/169245ff-f050-4601-9cea-aa36ef2d7f20","target","_blank","pTooltip","Ir al sitio web"],["type","bar",3,"data","options"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"Total mensual - "),e.TgZ(5,"b"),e._uU(6,"\xdaltimos 36 meses"),e.qZA()(),e.TgZ(7,"p-dropdown",3),e.NdJ("ngModelChange",function(l){return i.valorSeleccionadoRegion=l})("onChange",function(){return i.applyFilterRegion()}),e.qZA(),e.YNc(8,de,1,5,"p-dropdown",4),e._UZ(9,"p-chart",5),e.TgZ(10,"h6"),e._uU(11,"Valores expresados en miles de puestos de empleo"),e.qZA(),e.TgZ(12,"ul",6)(13,"li",7)(14,"div",8),e._UZ(15,"i",9),e.qZA(),e.TgZ(16,"span",10),e._uU(17,'Datos obtenidos del dataset "Datos Abiertos de Desarrollo Productivo".'),e.qZA()(),e.TgZ(18,"li",11)(19,"div",8),e._UZ(20,"i",12),e.qZA(),e.TgZ(21,"a",13),e._uU(22,"Fuente de informaci\xf3n"),e.qZA()()()()(),e.TgZ(23,"div",1)(24,"div",2)(25,"h5"),e._uU(26,"Variaci\xf3n interanual - "),e.TgZ(27,"b"),e._uU(28,"\xdaltimos 24 meses"),e.qZA()(),e.TgZ(29,"p"),e._uU(30,"Regi\xf3n: "),e.TgZ(31,"b"),e._uU(32),e.qZA(),e._uU(33,", Sector: "),e.TgZ(34,"b"),e._uU(35),e.qZA()(),e._UZ(36,"p-chart",14),e.qZA()()()),2&t&&(e.xp6(7),e.Akn(e.DdM(11,M)),e.Q6J("options",i.opcionesRegion)("ngModel",i.valorSeleccionadoRegion),e.xp6(1),e.Q6J("ngIf","TotalLujan"===i.valorSeleccionadoRegion),e.xp6(1),e.Q6J("data",i.dataGraficoMensualContiguo)("options",i.lineContiguoOptions),e.xp6(23),e.Oqu(i.getValorSeleccionadoRegion),e.xp6(3),e.Oqu(i.getValorSeleccionadoSector),e.xp6(1),e.Q6J("data",i.dataGraficoInteranualContiguo)("options",i.barContiguoOptions))},dependencies:[_.Lt,p.O5,c.JJ,c.On,h.C,m.u]}),n})();function me(n,a){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"app-grafico-puestos-empleo"),e.qZA())}function _e(n,a){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"app-grafico-puestos-empleo"),e.qZA())}function ge(n,a){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"app-grafico-puestos-empleo"),e.qZA())}const u=function(){return{width:"2.5rem",height:"2.5rem"}},g=function(){return{"margin-bottom":"0.5rem"}},fe=function(){return{height:"134.57px"}},he=function(){return{"margin-right":"1rem"}};let xe=(()=>{class n{constructor(t,i,o){this.layoutService=t,this.dolarsi=i,this.firebase=o,this.dataSetSeleccionado="puestos-empleo",this.opcionesDataSet=[{label:"Puestos de Empleo",value:"puestos-empleo"},{label:"DataSet2",value:"dataset-2"},{label:"DataSet3",value:"dataset-3"}]}ngOnInit(){this.loading=!0,this.dolarsi.getValoresDolar().subscribe(t=>{t.map(i=>{"Oficial"==i.casa.nombre&&(this.dolarOficial=i.casa),"Blue"==i.casa.nombre&&(this.dolarBlue=i.casa);const o=new Date(Date.now());this.today=o.toLocaleDateString("es-ES")}),this.loading=!1},t=>this.loading=!1)}changeDataSet(t){console.log(t)}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.P),e.Y36(ce),e.Y36(S.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:74,vars:31,consts:[[1,"grid"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0"],[1,"flex","justify-content-between"],[1,"block","text-500","font-medium"],[1,"flex","align-items-center","justify-content-center","bg-green-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-green-500","text-xl"],[1,"col-6","pb-0"],[1,"text-900","font-medium","text-xl"],[1,"text-green-500","font-medium"],["href","https://www.bna.com.ar/Personas","target","_blank"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","pi-chart-line","text-purple-500","text-xl"],[1,"text-purple-500","font-medium"],["href","https://www.indec.gob.ar/indec/web/Nivel4-Tema-3-9-48","target","_blank"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",3,"ngStyle"],[1,"pi","pi-wallet","text-orange-500","text-xl"],[1,"text-orange-500","font-medium"],["href","https://www.indec.gob.ar/indec/web/Nivel4-Tema-3-5-31","target","_blank"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-chart-line","text-blue-500","text-xl"],[3,"options","ngModel","ngModelChange","onChange"],["class","col-12",4,"ngIf"],[1,"col-12"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"i",6),e.qZA()(),e.TgZ(8,"div",0)(9,"div",7)(10,"div",8),e._uU(11),e.qZA(),e.TgZ(12,"span",9),e._uU(13,"Compra"),e.qZA()(),e.TgZ(14,"div",7)(15,"div",8),e._uU(16),e.qZA(),e.TgZ(17,"span",9),e._uU(18,"Venta"),e.qZA()()(),e.TgZ(19,"a",10),e._uU(20,"Ir a la fuente: BNA"),e.qZA()()(),e.TgZ(21,"div",1)(22,"div",2)(23,"div",3)(24,"span",4),e._uU(25,"EMAE (febrero 2023)"),e.qZA(),e.TgZ(26,"div",11),e._UZ(27,"i",12),e.qZA()(),e.TgZ(28,"div",0)(29,"div",7)(30,"div",8),e._uU(31,"0,2%"),e.qZA(),e.TgZ(32,"span",13),e._uU(33,"Var. interanual"),e.qZA()(),e.TgZ(34,"div",7)(35,"div",8),e._uU(36,"0,0%"),e.qZA(),e.TgZ(37,"span",13),e._uU(38,"Var. mensual"),e.qZA()()(),e.TgZ(39,"a",14),e._uU(40,"Ir a la fuente: INDEC"),e.qZA()()(),e.TgZ(41,"div",1)(42,"div",2)(43,"div",3)(44,"span",4),e._uU(45,"IPC (abril 2023)"),e.qZA(),e.TgZ(46,"div",15),e._UZ(47,"i",16),e.qZA()(),e.TgZ(48,"div",0)(49,"div",7)(50,"div",8),e._uU(51," 108,8%"),e.qZA(),e.TgZ(52,"span",17),e._uU(53,"Var. interanual"),e.qZA()(),e.TgZ(54,"div",7)(55,"div",8),e._uU(56,"8,4%"),e.qZA(),e.TgZ(57,"span",17),e._uU(58,"Var. mensual"),e.qZA()()(),e.TgZ(59,"a",18),e._uU(60,"Ir a la fuente: INDEC"),e.qZA()()(),e.TgZ(61,"div",1)(62,"div",2)(63,"div",3)(64,"span",4),e._uU(65,"Seleccione un DataSet"),e.qZA(),e.TgZ(66,"div",19),e._UZ(67,"i",20),e.qZA()(),e.TgZ(68,"div",0)(69,"div",7)(70,"p-dropdown",21),e.NdJ("ngModelChange",function(l){return i.dataSetSeleccionado=l})("onChange",function(l){return i.changeDataSet(l)}),e.qZA()()()()(),e.YNc(71,me,2,0,"div",22),e.YNc(72,_e,2,0,"div",22),e.YNc(73,ge,2,0,"div",22),e.qZA()),2&t&&(e.xp6(5),e.hij("D\xf3lar oficial (",i.today,")"),e.xp6(1),e.Q6J("ngStyle",e.DdM(22,u)),e.xp6(2),e.Akn(e.DdM(23,g)),e.xp6(3),e.hij("$",i.dolarOficial?i.dolarOficial.compra:"---",""),e.xp6(5),e.hij("$",i.dolarOficial?i.dolarOficial.venta:"---",""),e.xp6(10),e.Q6J("ngStyle",e.DdM(24,u)),e.xp6(2),e.Akn(e.DdM(25,g)),e.xp6(18),e.Q6J("ngStyle",e.DdM(26,u)),e.xp6(2),e.Akn(e.DdM(27,g)),e.xp6(14),e.Akn(e.DdM(28,fe)),e.xp6(4),e.Q6J("ngStyle",e.DdM(29,u)),e.xp6(4),e.Akn(e.DdM(30,he)),e.Q6J("options",i.opcionesDataSet)("ngModel",i.dataSetSeleccionado),e.xp6(1),e.Q6J("ngIf","puestos-empleo"===i.dataSetSeleccionado),e.xp6(1),e.Q6J("ngIf","dataset-2"===i.dataSetSeleccionado),e.xp6(1),e.Q6J("ngIf","dataset-3"===i.dataSetSeleccionado))},dependencies:[_.Lt,p.O5,p.PC,c.JJ,c.On,ue],styles:[".fuente-link[_ngcontent-%COMP%]{margin-top:.5rem!important}"]}),n})(),ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild([{path:"",component:xe}]),d.Bz]}),n})();var be=r(805);let ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.kW,p.ez,c.u5,h.S,I.$9,k.U$,w.l,se,A.hJ,ve,be.m8]}),n})()}}]);